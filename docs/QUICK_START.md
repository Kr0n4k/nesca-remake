# Быстрый старт

Это краткое руководство поможет вам начать работу с Nesca за 5 минут.

## Установка

### Linux (Ubuntu/Debian)

```bash
# Установка зависимостей
sudo apt-get update
sudo apt-get install -y qtbase5-dev qtbase5-dev-tools libssh-dev libssl-dev libcurl4-openssl-dev build-essential

# Клонирование и сборка
git clone <repository-url>
cd nesca-v2r
qmake nesca.pro
make -j$(nproc)
```

### macOS

```bash
# Установка зависимостей
brew install qt5 libssh openssl curl
export PATH="/usr/local/opt/qt5/bin:$PATH"

# Сборка
qmake nesca.pro
make -j$(sysctl -n hw.ncpu)
```

### Windows (MSYS2)

```bash
# В MSYS2 MinGW64 терминале
pacman -S mingw-w64-x86_64-qt5-base mingw-w64-x86_64-libssh mingw-w64-x86_64-openssl mingw-w64-x86_64-curl

# Сборка
qmake nesca.pro
mingw32-make
```

## Первое сканирование

### 1. Базовое сканирование

```bash
# Сканирование локальной сети
./nesca --ip 192.168.1.0/24

# Результаты автоматически экспортируются в export_YYYY.MM.DD_target.json
```

### 2. Сканирование с указанием портов

```bash
# Сканирование с кастомными портами
./nesca --ip 192.168.1.0/24 -p 80,443,8080,554
```

### 3. Просмотр результатов

```bash
# Результаты сохраняются в двух местах:
# 1. HTML файлы в results_YYYY.MM.DD_target/
cat results_*/camera.html

# 2. JSON экспорт (по умолчанию)
cat export_*.json | jq '.'  # если установлен jq
```

## Типичные сценарии использования

### Сценарий 1: Быстрое сканирование камер (Quick Preset)

```bash
# Использование быстрого пресета для сканирования камер
./nesca --quick-camera-scan

# Это автоматически установит оптимальные настройки:
# - Порты: 80, 8080, 554, 8554
# - Потоки: 150
# - Умное сканирование включено
```

### Сценарий 2: Поиск IP-камер в локальной сети

```bash
# Сканирование стандартных портов камер
./nesca --ip 192.168.1.0/24 -p 80,554,8000,37777

# С адаптивным сканированием для оптимизации
./nesca --ip 192.168.1.0/24 -p 80,554,8000 --adaptive --smart-scan

# Результаты будут в JSON с автоматическим определением производителей
```

### Сценарий 3: Использование профилей

```bash
# Быстрое сканирование с профилем
./nesca --ip 192.168.1.0/24 --profile quick-scan

# Полное сканирование с глубоким сканированием
./nesca --ip 192.168.1.0/24 --profile full-scan

# Скрытное сканирование для избежания обнаружения
./nesca --ip 192.168.1.0/24 --profile stealth-scan
```

### Сценарий 4: Экспорт только камер в CSV

```bash
# Сканирование
./nesca --ip 192.168.1.0/24 -p 80,443

# Затем экспорт с фильтрацией
./nesca --export-only --export-filter-type camera --export csv
```

### Сценарий 5: Сканирование большого диапазона с оптимизацией

```bash
# Использование адаптивного сканирования для автоматической оптимизации
./nesca --ip 10.0.0.0/16 -p 80,443 --adaptive -t 300 --export both

# Или использование профиля с последующим переопределением
./nesca --ip 10.0.0.0/16 --profile full-scan -t 500
```

### Сценарий 6: DNS сканирование

```bash
# Поиск поддоменов
./nesca --dns camera[a-z] --tld .com -p 80,443

# С кастомным TLD
./nesca --dns test[0-9] --tld .ru -p 8080
```

### Сценарий 7: Импорт списка IP

```bash
# Создать файл ip_list.txt с IP адресами
echo "192.168.1.1" > ip_list.txt
echo "192.168.1.2" >> ip_list.txt

# Сканирование
./nesca --import ip_list.txt -p 80,443

# С профилем
./nesca --import ip_list.txt --profile quick-scan
```

### Сценарий 8: Глубокое сканирование с проверкой уязвимостей

```bash
# Сканирование с глубоким анализом и проверкой уязвимостей
./nesca --ip 192.168.1.0/24 -p 80,443 --deep-scan --vuln-scan --service-version

# Или используя профиль пентестинга
./nesca --ip 192.168.1.0/24 --profile pentest
```

### Сценарий 9: Интерактивный режим

```bash
# Запуск интерактивного меню
./nesca --interactive

# Это открывает меню с опциями:
# 1. IP Range Scan
# 2. DNS Mask Scan
# 3. Import from File
# 4. Quick Presets
```

### Сценарий 10: Использование конфигурационных файлов

```bash
# Создать конфигурационный файл custom.conf (см. формат ниже)

# Использование конфигурации
./nesca --ip 192.168.1.0/24 --config custom.conf

# С переопределением параметров из CLI
./nesca --ip 192.168.1.0/24 --config custom.conf -p 80,443 -t 200
```

## Мониторинг прогресса

Во время сканирования вы увидите живую статистику:

```
[PROGRESS] 45.3% | Scanned: 453/1000 | Found: 23 | Saved: 15 | Cam:8 Auth:5 | Speed: 22.5 IP/s | Threads: 87 | ETA: 24m 15s
```

После завершения - итоговую статистику:

```
===========================================================
Scan Summary:
-----------------------------------------------------------
Duration:        125 seconds
Average Speed:   8.42 IPs/sec
Targets:         1054 total
Found:           47 nodes (4.46%)
Saved:           32 nodes (68.1%)
...
```

## Работа с результатами

### JSON формат

```bash
# Просмотр с помощью jq
cat export_*.json | jq '.results[] | select(.type=="camera")'

# Подсчет камер
cat export_*.json | jq '.statistics.by_type.camera'

# Экспорт в CSV через jq
cat export_*.json | jq -r '.results[] | [.ip, .port, .type] | @csv'
```

### CSV формат

```bash
# Импорт в Excel/LibreOffice
libreoffice export_*.csv

# Обработка через awk
awk -F, '$3=="camera" {print $1,$2}' export_*.csv
```

## Полезные советы

1. **Оптимизация скорости**: 
   - Используйте `--adaptive` для автоматической оптимизации потоков
   - Включите `--smart-scan` для приоритизации активных устройств
   - Увеличьте количество потоков (`-t`) для быстрого интернета

2. **Экономия ресурсов**: 
   - Используйте профиль `stealth-scan` для медленного соединения
   - Уменьшите потоки для медленного соединения
   - Используйте `--max-rate` для ограничения скорости запросов

3. **Фильтрация**: Используйте `--export-filter-*` для получения только нужных данных

4. **Без GUI**: Используйте `--no-live-stats` если терминал не поддерживает ANSI цвета

5. **Переиспользование результатов**: `--export-only` позволяет экспортировать старые результаты в новом формате

6. **Быстрый старт**: Используйте быстрые пресеты (`--quick-*`) для типовых задач

7. **Сохранение настроек**: Создавайте конфигурационные файлы для часто используемых настроек

8. **Безопасность**: Используйте `--vuln-scan` для проверки уязвимостей, но только на ваших сетях

9. **Глубокий анализ**: Включите `--deep-scan` для получения максимальной информации об устройствах

10. **Интерактивный режим**: Используйте `--interactive` если не помните все аргументы командной строки

## Решение проблем

### Ошибка компиляции

```bash
# Проверьте наличие всех зависимостей
qmake --version
pkg-config --modversion libssh
```

### Не компилируется на Windows

- Убедитесь, что используете MinGW64
- Проверьте пути в PATH к Qt и компилятору

### Результаты не экспортируются

- Проверьте права доступа к директории
- Убедитесь, что сканирование завершилось успешно
- Проверьте наличие директории `results_*/`

## Конфигурационные файлы

Вы можете создать собственный конфигурационный файл для сохранения настроек:

```ini
[scan]
threads = 200
ports = 80,443,8080,554
timeout = 3000
adaptive = true
smart_scan = true

[detection]
deep_scan = false
check_vulnerabilities = false
enable_fingerprinting = true

[export]
format = json
auto_export = true
```

Сохраньте как `my-config.conf` и используйте:
```bash
./nesca --ip 192.168.1.0/24 --config my-config.conf
```

## Следующие шаги

- Прочитайте [полную документацию](README.md)
- Изучите [новые функции](NEW_FEATURES.md) - детальное описание всех возможностей
- Изучите [структуру проекта](PROJECT_STRUCTURE.md)
- Посмотрите [примеры использования экспорта](EXPORT_FEATURE.md)
- Проверьте [режим мониторинга](MONITORING.md) для непрерывного отслеживания сети

Вопросы? Создайте Issue на GitHub!

